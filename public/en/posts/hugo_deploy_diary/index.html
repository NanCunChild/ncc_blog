<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="NanCunChild ">
<meta name="description" content="Goodbye slow WordPress, hello fast Hugo! This post details the full migration of NCC&#39;s blog from Aliyun to Hostdare. Learn how to build a static site with Hugo, configure the &#39;Hello Friend NG&#39; theme, and automate deployment via GitHub Actions. Includes critical troubleshooting tips for Go&#39;s date formatting magic numbers and fixing 404 errors in multi-language (i18n) routing configurations. " />
<meta name="keywords" content="homepage, blog, nancunchild, tech, diary, tech" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/en/posts/hugo_deploy_diary/" />


    <title>
        
            Breaking Up with My ex Server and fall in love with new one, with Hugo! :: NanCunChild&#39;s Blog  ‚Äî Tech, Life and Fantasy
        
    </title>





  <link rel="stylesheet" href="/scss/main.scss" integrity="" crossorigin="anonymous">





    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Breaking Up with My ex Server and fall in love with new one, with Hugo!">
  <meta itemprop="description" content="Goodbye slow WordPress, hello fast Hugo! This post details the full migration of NCC&#39;s blog from Aliyun to Hostdare. Learn how to build a static site with Hugo, configure the &#39;Hello Friend NG&#39; theme, and automate deployment via GitHub Actions. Includes critical troubleshooting tips for Go&#39;s date formatting magic numbers and fixing 404 errors in multi-language (i18n) routing configurations.">
  <meta itemprop="datePublished" content="2025-11-27T22:38:21+08:00">
  <meta itemprop="dateModified" content="2025-11-27T22:38:21+08:00">
  <meta itemprop="wordCount" content="1270">
  <meta itemprop="image" content="http://localhost:1313/assets/web_icon.ico">
  <meta itemprop="keywords" content="Tech">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/assets/web_icon.ico">
  <meta name="twitter:title" content="Breaking Up with My ex Server and fall in love with new one, with Hugo!">
  <meta name="twitter:description" content="Goodbye slow WordPress, hello fast Hugo! This post details the full migration of NCC&#39;s blog from Aliyun to Hostdare. Learn how to build a static site with Hugo, configure the &#39;Hello Friend NG&#39; theme, and automate deployment via GitHub Actions. Includes critical troubleshooting tips for Go&#39;s date formatting magic numbers and fixing 404 errors in multi-language (i18n) routing configurations.">







    <meta property="article:published_time" content="2025-11-27 22:38:21 &#43;0800 CST" />












    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/en" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                hello</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
                <nav class="menu">
    <ul class="menu__inner">
                <li><a href="/en/about/">About</a></li>
            
                <li><a href="/en/archives/">Archives</a></li>
            
                <li><a href="/en/posts/">Posts</a></li>
            
        <ul class="submenu">
            <li class="dropdown">
                <a href="javascript:void(0)" class="dropbtn">en</a>
                <div class="dropdown-content">
                        
                            <a title="zh-cn" href="http://localhost:1313/posts/hugo_deploy_diary/">zh-cn</a>
                        
                            <a title="ja" href="http://localhost:1313/ja/posts/hugo_deploy_diary/">ja</a>
                        
                </div>
            </li>
        </ul>
    </ul>
</nav>


                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
        </span>
    </span>
</header>


            
  <div class="content">
    <main class="post">

      <div class="post-info">
        <p>

           | Also available in
            
                <a href="http://localhost:1313/posts/hugo_deploy_diary/"><span class="flag fi fi-cn"></span></a>
            
                <a href="http://localhost:1313/ja/posts/hugo_deploy_diary/"><span class="flag fi fi-jp"></span></a>
            
          
        </p>
      </div>

      <article>
        <h1 class="post-title">
          <a href="http://localhost:1313/en/posts/hugo_deploy_diary/">Breaking Up with My ex Server and fall in love with new one, with Hugo!</a>
        </h1>

        
          <div class="post-excerpt">Goodbye slow WordPress, hello fast Hugo! This post details the full migration of NCC&#39;s blog from Aliyun to Hostdare. Learn how to build a static site with Hugo, configure the &#39;Hello Friend NG&#39; theme, and automate deployment via GitHub Actions. Includes critical troubleshooting tips for Go&#39;s date formatting magic numbers and fixing 404 errors in multi-language (i18n) routing configurations. </div>
        

        

        

        <div class="post-content">
          <h2 id="intro-breaking-up-with-my-server">Intro: Breaking Up with My Server</h2>
<p>Big news: NCC has moved house!</p>
<p>It started when Alibaba Cloud slid into my DMs like a bureaucratic ex, demanding I fix some ICP filing I forgot years ago. I tried to re-apply multiple times, but got rejected every time (turns out I checked the wrong jurisdiction box&hellip; <strong>massive facepalm</strong>).<br>
On top of that, my old 200M server was running like a <strong>potato</strong> (This server does not being promised with any mininum bandwith, they just tell you the peak is 200Mbps). It was lagging so hard I thought I was on dial-up. So, I found Hostdare&rsquo;s CN2 GIA route in the US. $12 a month, no lag, and bandwidth that actually works? <strong>Stonks</strong>. üìà</p>
<p>While backing up, I realized my old WordPress blog was a dinosaur. Every page load was a spinning wheel of death. The PHP backend was working overtime just to render a header. It felt bloated.<br>
Then I remembered the static site gang: Hexo, Hugo, etc. Perfect for CDN caching and speed. Plus, I get to <strong>Marie Kondo</strong> (delete) all those weird WordPress features I never use. It sparks joy.</p>
<p><strong>NCC chose <strong>Hugo</strong>.</strong></p>
<p>If WordPress is a slow-motion chef cooking every meal to order, Hugo is a gigafactory. It pre-compiles all your articles into static HTML &ldquo;Meal Prep.&rdquo; When a guest arrives, Nginx just serves the plate.<br>
This architecture is so efficient that even a PC from the Windows 95 era could run it. Pair it with a CDN, and you‚Äôre looking at <strong>zero-cost scaling</strong>. Blazingly fast. üî•</p>
<h2 id="hugo-initialization">Hugo Initialization</h2>
<p>Hugo isn&rsquo;t high-maintenance like WordPress. It&rsquo;s just a CLI tool. Run this, and boom, you have a file structure:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo new site . --force
</span></span></code></pre></div><p>For the love of code, please use Git. If you aren&rsquo;t using version control in 2024, are you even a developer?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git checkout main
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;initialize&#34;</span>
</span></span><span style="display:flex;"><span>git remote add origin https://<span style="color:#f92672">{</span>Change_This_to_Your_Git_Repository_URL<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><h2 id="picking-a-theme-the-tinder-of-tech">Picking a Theme: The Tinder of Tech</h2>
<p>Choosing a Hugo theme is a whole discipline. Strictly speaking, it&rsquo;s a template, but Hugo comes naked (no default theme). You have to go shopping on the <code>Hugo Themes</code> site.<br>
But here&rsquo;s the <strong>red flag</strong>: A lot of themes are maintained by random people in the open-source community. Quality varies wildy. Don&rsquo;t just swipe right because it looks pretty. Check the <strong>GitHub Stars</strong>, <strong>Issue activity</strong>, and <strong>Docs</strong>. Otherwise, you&rsquo;ll end up debugging someone else&rsquo;s spaghetti code at 3 AM.</p>
<p>NCC swiped right on <a href="https://github.com/rhazdon/hugo-theme-hello-friend-ng">Hello Friend NG</a> . Clean docs, minimalist vibe.<br>
Pro tip: Install it via <strong>Git Submodule</strong>. Don&rsquo;t just download the zip file like a caveman. This way, you can pull updates easily.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git submodule add https://github.com/rhazdon/hugo-theme-hello-friend-ng themes/hugo-theme-hello-friend-ng
</span></span></code></pre></div><h2 id="the-config-file-gos-magic-number">The Config File: Go&rsquo;s &ldquo;Magic Number&rdquo;</h2>
<p>The config comes <em>after</em> the theme? Yeah, Hugo is quirky like that. You only need to touch <code>hugo.toml</code>.</p>
<p><strong>MAJOR WARNING</strong>: There is a date format setting involving <code>Jan 02, 2006</code>.<br>
I thought, &ldquo;Why is this stuck in 2006? Let me update it to today.&rdquo; <strong>Big mistake.</strong><br>
I broke the entire frontend.<br>
Turns out, <strong>Jan 2 2006 at 15:04</strong> is Go language&rsquo;s specific reference time for formatting. It&rsquo;s a magic number. DO NOT TOUCH IT.</p>
<p>Here is the <strong>production-ready</strong> config NCC scraped together after stepping on multiple landmines (includes the fix for the i18n routing nightmare mentioned later):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">baseURL</span> = <span style="color:#e6db74">&#39;https://blog.nancunchild.cn/&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;zh-CN&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39;NanCunChildÁöÑÁ¢éÁ¢éÂøµ&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">theme</span> = <span style="color:#e6db74">&#39;hugo-theme-hello-friend-ng&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pagerSize</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguage</span> = <span style="color:#e6db74">&#39;zh-cn&#39;</span> <span style="color:#75715e"># just change this into your first language, then it can be the default one</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguageInSubdir</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateform</span>        = <span style="color:#e6db74">&#34;Jan 02, 2006&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateformShort</span>   = <span style="color:#e6db74">&#34;Jan 02&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateformNum</span>     = <span style="color:#e6db74">&#34;2006-01-02&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateformNumTime</span> = <span style="color:#e6db74">&#34;2006-01-02 15:04&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#34;NCCÁöÑÁ¢éÁ¢éÂøµ&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">description</span> = <span style="color:#e6db74">&#34;NanCunChildÁöÑ‰∏™‰∫∫ÂçöÂÆ¢ÔºåÂåÖÂê´ÁîüÊ¥ªÔºåÊäÄÊúØÂíåÂπªÊÉ≥&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">keywords</span> = <span style="color:#e6db74">&#34;homepage, blog, nancunchild, tech&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">images</span> = [<span style="color:#e6db74">&#34;assets/web_icon.ico&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">disableReadOtherPosts</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enableSharingButtons</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enableGlobalLanguageMenu</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">defaultTheme</span> = <span style="color:#e6db74">&#34;auto&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">author</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;NanCunChild&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">contact</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">email</span> = <span style="color:#e6db74">&#39;nancunchild@gmail.com&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">languages</span>]
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;zh-CN&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageName</span> = <span style="color:#e6db74">&#39;‰∏≠Êñá&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39;NanCunChildÁöÑÁ¢éÁ¢éÂøµ&#39;</span>
</span></span><span style="display:flex;"><span>        [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#39;ÁîüÊ¥ª„ÄÅÊäÄÊúØ‰∏éÂπªÊÉ≥&#39;</span>
</span></span><span style="display:flex;"><span>            [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">homeInfoParams</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Title</span> = <span style="color:#e6db74">&#34;‰Ω†Â•Ω üëã&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Content</span> = <span style="color:#e6db74">&#34;Ê¨¢ËøéÊù•Âà∞NCCÁöÑÁ¢éÁ¢éÂøµ&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;about&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;ÂÖ≥‰∫éÊàë&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/about/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;ÊñáÁ´†&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/posts/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;ÂΩíÊ°£&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/archives/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;en-US&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageName</span> = <span style="color:#e6db74">&#39;English&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#34;NanCunChild&#39;s Blog&#34;</span>
</span></span><span style="display:flex;"><span>        [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#39;Tech, Life and Fantasy&#39;</span>
</span></span><span style="display:flex;"><span>            [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">homeInfoParams</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Title</span> = <span style="color:#e6db74">&#34;Hi there üëã&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Content</span> = <span style="color:#e6db74">&#34;Welcome to NCC&#39;s Blog&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;about&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;About&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/en/about/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/en/posts/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/en/archives/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;ja-JP&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageName</span> = <span style="color:#e6db74">&#39;Êó•Êú¨Ë™û&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39;NanCunChild„ÅÆ„Éñ„É≠„Ç∞&#39;</span>
</span></span><span style="display:flex;"><span>        [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#39;ÁîüÊ¥ª„ÄÅÊäÄË°ì„Å®„Éï„Ç°„É≥„Çø„Ç∏„Éº&#39;</span>
</span></span><span style="display:flex;"><span>            [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">homeInfoParams</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Title</span> = <span style="color:#e6db74">&#34;„Åì„Çì„Å´„Å°„ÅØ üëã&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Content</span> = <span style="color:#e6db74">&#34;NCC„ÅÆ„Éñ„É≠„Ç∞„Å∏„Çà„ÅÜ„Åì„Åù&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;about&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;„Éó„É≠„Éï„Ç£„Éº„É´&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/ja/about/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Ë®ò‰∫ã‰∏ÄË¶ß&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/ja/posts/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;„Ç¢„Éº„Ç´„Ç§„Éñ&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/ja/archives/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">20</span>
</span></span></code></pre></div><h2 id="automating-the-deploy-work-smarter-not-harder">Automating the Deploy: Work Smarter, Not Harder</h2>
<p>The goal is an elegant workflow.<br>
Writing happens locally. NCC recommends VS Code (with Markdown extensions) or <strong>Obsidian</strong>. Obsidian is basically a second brain; the UI is distraction-free, letting you enter a &ldquo;flow state.&rdquo;</p>
<p>Now for deployment. We aren&rsquo;t going to manually upload files via FTP like it&rsquo;s 1999. We want <strong>CI/CD</strong>.<br>
The dream: Write locally -&gt; <code>git push</code> -&gt; Server updates automatically.</p>
<p>NCC initially thought building on GitHub would be slow, but it takes literally 5 seconds on a free Linux runner. So I decided to hand the keys to <strong>GitHub Actions</strong>. It&rsquo;s way cleaner than having the server poll GitHub constantly.<br>
Here is the workflow file (feel free to steal it):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Deploy</span> <span style="color:#a6e22e">Hugo</span> <span style="color:#a6e22e">to</span> <span style="color:#a6e22e">NCC</span> <span style="color:#a6e22e">Server</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">on</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">push</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">branches</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">workflow_dispatch</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">jobs</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build-and-deploy</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">runs-on</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">steps</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Checkout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">uses</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">actions</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">checkout</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">v4</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">with</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">submodules</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">fetch-depth</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Setup</span> <span style="color:#a6e22e">Hugo</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">uses</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">peaceiris</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">actions-hugo</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">v2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">with</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">hugo-version</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#39;latest&#39;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">extended</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Build</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">run</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">--minify</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Setup</span> <span style="color:#a6e22e">SSH</span> <span style="color:#a6e22e">Key</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">uses</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">shimataro</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ssh-key-action</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">v2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">with</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">key</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">SSH_KEY</span> }}
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">known_hosts</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#39;just-a-placeholder-so-we-dont-get-errors&#39;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">if_key_exists</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">replace</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Add</span> <span style="color:#a6e22e">Known</span> <span style="color:#a6e22e">Hosts</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">run</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">ssh-keyscan</span> <span style="color:#a6e22e">-H</span> <span style="color:#960050;background-color:#1e0010">$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">HOST</span> }} <span style="color:#960050;background-color:#1e0010">&gt;&gt;</span> <span style="color:#960050;background-color:#1e0010">~/</span>.<span style="color:#a6e22e">ssh</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">known_hosts</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Deploy</span> <span style="color:#a6e22e">with</span> <span style="color:#a6e22e">rsync</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">run</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#75715e"># attention, path problem</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">rsync</span> <span style="color:#a6e22e">-avz</span> <span style="color:#a6e22e">--delete</span> <span style="color:#a6e22e">public</span><span style="color:#960050;background-color:#1e0010">/</span> <span style="color:#960050;background-color:#1e0010">$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">USER</span> }}<span style="color:#960050;background-color:#1e0010">@$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">HOST</span> }}<span style="color:#960050;background-color:#1e0010">:/</span><span style="color:#a6e22e">var</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">www</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ncc_sites</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ncc_blog</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">html</span>
</span></span></code></pre></div><p><strong>Security Check</strong>: Create a dedicated, low-privilege user on your server for this. Least Privilege Principle, folks. Don&rsquo;t let GitHub have root access, or you&rsquo;re gonna have a bad time.</p>
<h2 id="the-final-boss-i18n">The Final Boss: i18n</h2>
<p>I thought I was done. I thought I could touch grass. But then <strong>i18n</strong> (internationalization) punched me in the face.<br>
I set up English, Japanese, and Chinese. English worked. Japanese worked. Chinese? <strong>404 Not Found</strong>.<br>
I spent 2 hours doom-scrolling through source code and Nginx logs. I eventually asked <strong>Gemini</strong> (because AI is smarter than me&hellip; always).</p>
<p>The culprit?<br>
The Simplified Chinese file is named <code>zh-CN.toml</code>. In the config, I had <code>languageCode = 'zh'</code>. It <em>needed</em> to be <code>zh-cn</code>.<br>
While other languages have 2-letter codes, Chinese needs 4. And I have to append <code>.zh-cn.md</code> to my filenames. <strong>Case sensitivity</strong> is the real villain here. So, just check if your first language has the same situation like this.</p>
<h2 id="current-status">Current Status</h2>
<p>Now, NCC&rsquo;s blog is running inside a Dockerized Nginx container.</p>
<ul>
<li><strong>Performance</strong>: 5% CPU usage under load. Instant load times.</li>
<li><strong>Security</strong>: Static files mean <strong>SQL Injection is impossible</strong>. Hackers can cry about it.</li>
<li><strong>Experience</strong>: Write in Obsidian -&gt; Git Push -&gt; Auto-deploy.</li>
</ul>
<p>It works like a charm. And if GitHub Actions fails, it emails me immediately. It&rsquo;s the ultimate peace of mind.</p>

        </div>
      </article>

      <hr />

      <div class="post-info">
        
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="http://localhost:1313/en/tags/tech/">tech</a></span>
        
    </p>

        

        <p>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>
          1270 Words
        </p>

        <p>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          
            2025-11-27 22:38
          

           
            
          
        </p>
      </div>

      
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="http://localhost:1313/en/posts/strange_dream_gold_and_dust/">
                    <span class="button__icon">‚Üê</span>
                    <span class="button__text">Dreams of Gold and Dust</span>
                </a>
            </span>
            

            
        </div>
    </div>


      

      

      
	  
	  
      <div id="comments">
		  <script src="https://giscus.app/client.js"
			data-repo="NanCunChild/ncc_blog"
			data-repo-id="R_kgDOQdo5VA"
			data-category="General"
			data-category-id="DIC_kwDOQdo5VM4CzKOK"
			data-mapping="pathname"
			data-strict="0"
			data-reactions-enabled="1"
			data-emit-metadata="0"
			data-input-position="top"
			data-theme="dark"
			data-lang="zh-CN"
			crossorigin="anonymous"
			async>
		  </script>
	  </div>
      

    </main>
  </div>


            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.08b680078a3cf9c69e3dd217a5aa52cfddd4a1d850f8cdff127fdd7421a71f8b2b474be69386f67819edace92273916e7230c9054f38107db9dc6730b3530ab5.js" integrity="sha512-CLaAB4o8&#43;caePdIXpapSz93UodhQ&#43;M3/En/ddCGnH4srR0vmk4b2eBntrOkic5FucjDJBU84EH253Gcws1MKtQ=="></script>




    </body>
</html>
