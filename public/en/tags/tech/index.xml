<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Tech on NanCunChild&#39;s Blog</title>
    <link>http://localhost:1313/en/tags/tech/</link>
    <description>Recent content in Tech on NanCunChild&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    
    
    <lastBuildDate>Thu, 27 Nov 2025 22:38:21 +0800</lastBuildDate>
    
        <atom:link href="http://localhost:1313/en/tags/tech/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Breaking Up with My ex Server and fall in love with new one, with Hugo!</title>
      <link>http://localhost:1313/en/posts/hugo_deploy_diary/</link>
      <pubDate>Thu, 27 Nov 2025 22:38:21 +0800</pubDate>
      
      <guid>http://localhost:1313/en/posts/hugo_deploy_diary/</guid>
      
      <description>Goodbye slow WordPress, hello fast Hugo! This post details the full migration of NCC&#39;s blog from Aliyun to Hostdare. Learn how to build a static site with Hugo, configure the &#39;Hello Friend NG&#39; theme, and automate deployment via GitHub Actions. Includes critical troubleshooting tips for Go&#39;s date formatting magic numbers and fixing 404 errors in multi-language (i18n) routing configurations. </description>
      
      <content:encoded>
        <![CDATA[<h2 id="intro-breaking-up-with-my-server">Intro: Breaking Up with My Server</h2>
<p>Big news: NCC has moved house!</p>
<p>It started when Alibaba Cloud slid into my DMs like a bureaucratic ex, demanding I fix some ICP filing I forgot years ago. I tried to re-apply multiple times, but got rejected every time (turns out I checked the wrong jurisdiction box&hellip; <strong>massive facepalm</strong>).<br>
On top of that, my old 200M server was running like a <strong>potato</strong> (This server does not being promised with any mininum bandwith, they just tell you the peak is 200Mbps). It was lagging so hard I thought I was on dial-up. So, I found Hostdare&rsquo;s CN2 GIA route in the US. $12 a month, no lag, and bandwidth that actually works? <strong>Stonks</strong>. ğŸ“ˆ</p>
<p>While backing up, I realized my old WordPress blog was a dinosaur. Every page load was a spinning wheel of death. The PHP backend was working overtime just to render a header. It felt bloated.<br>
Then I remembered the static site gang: Hexo, Hugo, etc. Perfect for CDN caching and speed. Plus, I get to <strong>Marie Kondo</strong> (delete) all those weird WordPress features I never use. It sparks joy.</p>
<p><strong>NCC chose <strong>Hugo</strong>.</strong></p>
<p>If WordPress is a slow-motion chef cooking every meal to order, Hugo is a gigafactory. It pre-compiles all your articles into static HTML &ldquo;Meal Prep.&rdquo; When a guest arrives, Nginx just serves the plate.<br>
This architecture is so efficient that even a PC from the Windows 95 era could run it. Pair it with a CDN, and youâ€™re looking at <strong>zero-cost scaling</strong>. Blazingly fast. ğŸ”¥</p>
<h2 id="hugo-initialization">Hugo Initialization</h2>
<p>Hugo isn&rsquo;t high-maintenance like WordPress. It&rsquo;s just a CLI tool. Run this, and boom, you have a file structure:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo new site . --force
</span></span></code></pre></div><p>For the love of code, please use Git. If you aren&rsquo;t using version control in 2024, are you even a developer?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git checkout main
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;initialize&#34;</span>
</span></span><span style="display:flex;"><span>git remote add origin https://<span style="color:#f92672">{</span>Change_This_to_Your_Git_Repository_URL<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><h2 id="picking-a-theme-the-tinder-of-tech">Picking a Theme: The Tinder of Tech</h2>
<p>Choosing a Hugo theme is a whole discipline. Strictly speaking, it&rsquo;s a template, but Hugo comes naked (no default theme). You have to go shopping on the <code>Hugo Themes</code> site.<br>
But here&rsquo;s the <strong>red flag</strong>: A lot of themes are maintained by random people in the open-source community. Quality varies wildy. Don&rsquo;t just swipe right because it looks pretty. Check the <strong>GitHub Stars</strong>, <strong>Issue activity</strong>, and <strong>Docs</strong>. Otherwise, you&rsquo;ll end up debugging someone else&rsquo;s spaghetti code at 3 AM.</p>
<p>NCC swiped right on <a href="https://github.com/rhazdon/hugo-theme-hello-friend-ng">Hello Friend NG</a> . Clean docs, minimalist vibe.<br>
Pro tip: Install it via <strong>Git Submodule</strong>. Don&rsquo;t just download the zip file like a caveman. This way, you can pull updates easily.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git submodule add https://github.com/rhazdon/hugo-theme-hello-friend-ng themes/hugo-theme-hello-friend-ng
</span></span></code></pre></div><h2 id="the-config-file-gos-magic-number">The Config File: Go&rsquo;s &ldquo;Magic Number&rdquo;</h2>
<p>The config comes <em>after</em> the theme? Yeah, Hugo is quirky like that. You only need to touch <code>hugo.toml</code>.</p>
<p><strong>MAJOR WARNING</strong>: There is a date format setting involving <code>Jan 02, 2006</code>.<br>
I thought, &ldquo;Why is this stuck in 2006? Let me update it to today.&rdquo; <strong>Big mistake.</strong><br>
I broke the entire frontend.<br>
Turns out, <strong>Jan 2 2006 at 15:04</strong> is Go language&rsquo;s specific reference time for formatting. It&rsquo;s a magic number. DO NOT TOUCH IT.</p>
<p>Here is the <strong>production-ready</strong> config NCC scraped together after stepping on multiple landmines (includes the fix for the i18n routing nightmare mentioned later):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">baseURL</span> = <span style="color:#e6db74">&#39;https://blog.nancunchild.cn/&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;zh-CN&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39;NanCunChildçš„ç¢ç¢å¿µ&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">theme</span> = <span style="color:#e6db74">&#39;hugo-theme-hello-friend-ng&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pagerSize</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguage</span> = <span style="color:#e6db74">&#39;zh-cn&#39;</span> <span style="color:#75715e"># just change this into your first language, then it can be the default one</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguageInSubdir</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateform</span>        = <span style="color:#e6db74">&#34;Jan 02, 2006&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateformShort</span>   = <span style="color:#e6db74">&#34;Jan 02&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateformNum</span>     = <span style="color:#e6db74">&#34;2006-01-02&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dateformNumTime</span> = <span style="color:#e6db74">&#34;2006-01-02 15:04&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#34;NCCçš„ç¢ç¢å¿µ&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">description</span> = <span style="color:#e6db74">&#34;NanCunChildçš„ä¸ªäººåšå®¢ï¼ŒåŒ…å«ç”Ÿæ´»ï¼ŒæŠ€æœ¯å’Œå¹»æƒ³&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">keywords</span> = <span style="color:#e6db74">&#34;homepage, blog, nancunchild, tech&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">images</span> = [<span style="color:#e6db74">&#34;assets/web_icon.ico&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">disableReadOtherPosts</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enableSharingButtons</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enableGlobalLanguageMenu</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">defaultTheme</span> = <span style="color:#e6db74">&#34;auto&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">author</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;NanCunChild&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">contact</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">email</span> = <span style="color:#e6db74">&#39;nancunchild@gmail.com&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">languages</span>]
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;zh-CN&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageName</span> = <span style="color:#e6db74">&#39;ä¸­æ–‡&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39;NanCunChildçš„ç¢ç¢å¿µ&#39;</span>
</span></span><span style="display:flex;"><span>        [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#39;ç”Ÿæ´»ã€æŠ€æœ¯ä¸å¹»æƒ³&#39;</span>
</span></span><span style="display:flex;"><span>            [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">homeInfoParams</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Title</span> = <span style="color:#e6db74">&#34;ä½ å¥½ ğŸ‘‹&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Content</span> = <span style="color:#e6db74">&#34;æ¬¢è¿æ¥åˆ°NCCçš„ç¢ç¢å¿µ&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;about&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;å…³äºæˆ‘&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/about/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;æ–‡ç« &#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/posts/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">zh-cn</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;å½’æ¡£&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/archives/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;en-US&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageName</span> = <span style="color:#e6db74">&#39;English&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#34;NanCunChild&#39;s Blog&#34;</span>
</span></span><span style="display:flex;"><span>        [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#39;Tech, Life and Fantasy&#39;</span>
</span></span><span style="display:flex;"><span>            [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">homeInfoParams</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Title</span> = <span style="color:#e6db74">&#34;Hi there ğŸ‘‹&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Content</span> = <span style="color:#e6db74">&#34;Welcome to NCC&#39;s Blog&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;about&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;About&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/en/about/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/en/posts/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">en</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/en/archives/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;ja-JP&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">languageName</span> = <span style="color:#e6db74">&#39;æ—¥æœ¬èª&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39;NanCunChildã®ãƒ–ãƒ­ã‚°&#39;</span>
</span></span><span style="display:flex;"><span>        [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">params</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">subtitle</span> = <span style="color:#e6db74">&#39;ç”Ÿæ´»ã€æŠ€è¡“ã¨ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼&#39;</span>
</span></span><span style="display:flex;"><span>            [<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">homeInfoParams</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Title</span> = <span style="color:#e6db74">&#34;ã“ã‚“ã«ã¡ã¯ ğŸ‘‹&#34;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Content</span> = <span style="color:#e6db74">&#34;NCCã®ãƒ–ãƒ­ã‚°ã¸ã‚ˆã†ã“ã&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;about&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/ja/about/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;posts&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;è¨˜äº‹ä¸€è¦§&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/ja/posts/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        [[<span style="color:#a6e22e">languages</span>.<span style="color:#a6e22e">ja</span>.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">main</span>]]
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">identifier</span> = <span style="color:#e6db74">&#34;archives&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">url</span> = <span style="color:#e6db74">&#34;/ja/archives/&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">weight</span> = <span style="color:#ae81ff">20</span>
</span></span></code></pre></div><h2 id="automating-the-deploy-work-smarter-not-harder">Automating the Deploy: Work Smarter, Not Harder</h2>
<p>The goal is an elegant workflow.<br>
Writing happens locally. NCC recommends VS Code (with Markdown extensions) or <strong>Obsidian</strong>. Obsidian is basically a second brain; the UI is distraction-free, letting you enter a &ldquo;flow state.&rdquo;</p>
<p>Now for deployment. We aren&rsquo;t going to manually upload files via FTP like it&rsquo;s 1999. We want <strong>CI/CD</strong>.<br>
The dream: Write locally -&gt; <code>git push</code> -&gt; Server updates automatically.</p>
<p>NCC initially thought building on GitHub would be slow, but it takes literally 5 seconds on a free Linux runner. So I decided to hand the keys to <strong>GitHub Actions</strong>. It&rsquo;s way cleaner than having the server poll GitHub constantly.<br>
Here is the workflow file (feel free to steal it):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Deploy</span> <span style="color:#a6e22e">Hugo</span> <span style="color:#a6e22e">to</span> <span style="color:#a6e22e">NCC</span> <span style="color:#a6e22e">Server</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">on</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">push</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">branches</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">workflow_dispatch</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">jobs</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build-and-deploy</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">runs-on</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">steps</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Checkout</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">uses</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">actions</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">checkout</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">v4</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">with</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">submodules</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">fetch-depth</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Setup</span> <span style="color:#a6e22e">Hugo</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">uses</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">peaceiris</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">actions-hugo</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">v2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">with</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">hugo-version</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#39;latest&#39;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">extended</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Build</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">run</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">--minify</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Setup</span> <span style="color:#a6e22e">SSH</span> <span style="color:#a6e22e">Key</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">uses</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">shimataro</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ssh-key-action</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">v2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">with</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">key</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">SSH_KEY</span> }}
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">known_hosts</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#39;just-a-placeholder-so-we-dont-get-errors&#39;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">if_key_exists</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">replace</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Add</span> <span style="color:#a6e22e">Known</span> <span style="color:#a6e22e">Hosts</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">run</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">ssh-keyscan</span> <span style="color:#a6e22e">-H</span> <span style="color:#960050;background-color:#1e0010">$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">HOST</span> }} <span style="color:#960050;background-color:#1e0010">&gt;&gt;</span> <span style="color:#960050;background-color:#1e0010">~/</span>.<span style="color:#a6e22e">ssh</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">known_hosts</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">Deploy</span> <span style="color:#a6e22e">with</span> <span style="color:#a6e22e">rsync</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">run</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">|</span>
</span></span><span style="display:flex;"><span>          <span style="color:#75715e"># attention, path problem</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">rsync</span> <span style="color:#a6e22e">-avz</span> <span style="color:#a6e22e">--delete</span> <span style="color:#a6e22e">public</span><span style="color:#960050;background-color:#1e0010">/</span> <span style="color:#960050;background-color:#1e0010">$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">USER</span> }}<span style="color:#960050;background-color:#1e0010">@$</span>{{ <span style="color:#a6e22e">secrets</span>.<span style="color:#a6e22e">HOST</span> }}<span style="color:#960050;background-color:#1e0010">:/</span><span style="color:#a6e22e">var</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">www</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ncc_sites</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ncc_blog</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">html</span>
</span></span></code></pre></div><p><strong>Security Check</strong>: Create a dedicated, low-privilege user on your server for this. Least Privilege Principle, folks. Don&rsquo;t let GitHub have root access, or you&rsquo;re gonna have a bad time.</p>
<h2 id="the-final-boss-i18n">The Final Boss: i18n</h2>
<p>I thought I was done. I thought I could touch grass. But then <strong>i18n</strong> (internationalization) punched me in the face.<br>
I set up English, Japanese, and Chinese. English worked. Japanese worked. Chinese? <strong>404 Not Found</strong>.<br>
I spent 2 hours doom-scrolling through source code and Nginx logs. I eventually asked <strong>Gemini</strong> (because AI is smarter than me&hellip; always).</p>
<p>The culprit?<br>
The Simplified Chinese file is named <code>zh-CN.toml</code>. In the config, I had <code>languageCode = 'zh'</code>. It <em>needed</em> to be <code>zh-cn</code>.<br>
While other languages have 2-letter codes, Chinese needs 4. And I have to append <code>.zh-cn.md</code> to my filenames. <strong>Case sensitivity</strong> is the real villain here. So, just check if your first language has the same situation like this.</p>
<h2 id="current-status">Current Status</h2>
<p>Now, NCC&rsquo;s blog is running inside a Dockerized Nginx container.</p>
<ul>
<li><strong>Performance</strong>: 5% CPU usage under load. Instant load times.</li>
<li><strong>Security</strong>: Static files mean <strong>SQL Injection is impossible</strong>. Hackers can cry about it.</li>
<li><strong>Experience</strong>: Write in Obsidian -&gt; Git Push -&gt; Auto-deploy.</li>
</ul>
<p>It works like a charm. And if GitHub Actions fails, it emails me immediately. It&rsquo;s the ultimate peace of mind.</p>
]]>
      </content:encoded>
    </item>
    
  </channel>
</rss>